CREATE DATABASE DON_SERGIOS
GO
USE DON_SERGIOS

CREATE TABLE MODELOS
(
ID_MODELO INT IDENTITY (1,1) PRIMARY KEY,
MODELO VARCHAR(50)
)

CREATE TABLE SERVICIOS
(
ID_SERVICIO INT IDENTITY (1,1) PRIMARY KEY,
PROBLEMAS VARCHAR(500),
PRUEBAS VARCHAR(500),
REPUESTOS VARCHAR(200),
PRECIO FLOAT,
OBSERVACIONES VARCHAR(500),
FECHA_LLEGADA DATETIME,
FECHA_SALIDA DATETIME
)

CREATE TABLE AUTOS
(
ID_AUTO INT IDENTITY (1,1) PRIMARY KEY,
PATENTE VARCHAR(15),
ID_MODELO INT,
AÑO INT,

CONSTRAINT RELACION_A_MODELOS FOREIGN KEY (ID_MODELO) REFERENCES MODELOS (ID_MODELO)
)

CREATE TABLE CLIENTES
(
ID INT IDENTITY (1,1) PRIMARY KEY,
NOMBRES VARCHAR(100),
APELLIDOS VARCHAR(100),
DIRECCION VARCHAR (100),
TELEFONO VARCHAR(30),
FACEBOOK VARCHAR(100),
ID_AUTO INT,
ID_SERVICIO INT,

CONSTRAINT RELACION_A_AUTOS FOREIGN KEY (ID_AUTO) REFERENCES AUTOS (ID_AUTO),
CONSTRAINT RELACION_A_SERVICIOS FOREIGN KEY (ID_SERVICIO) REFERENCES SERVICIOS (ID_SERVICIO)
)


INSERT INTO MODELOS VALUES
(''),
('NEON'),
('STRATUS'),
('PT CRUISER'),
('CARAVAN')

INSERT INTO SERVICIOS (PROBLEMAS, PRUEBAS, REPUESTOS, PRECIO, OBSERVACIONES, FECHA_LLEGADA, FECHA_SALIDA) VALUES
('Problema en el motor', 'Prueba de frenos', 'Bujías', 100, 'Observaciones 1', '2023-07-15', '2023-07-20'),
('Fallo eléctrico', 'Prueba de aceleración', 'Filtro de aire', 150, 'Observaciones 2', '2023-07-16', '2023-07-21'),
('Fuga de aceite', 'Prueba de suspensión', 'Pastillas de freno', 200, 'Observaciones 3', '2023-07-17', '2023-07-22'),
('Problema en la transmisión', 'Prueba de aceleración', 'Amortiguadores', 250, 'Observaciones 4', '2023-07-18', '2023-07-23'),
('Fallo eléctrico', 'Prueba de suspensión', 'Pastillas de freno', 300, 'Observaciones 5', '2023-07-19', '2023-07-24')

INSERT INTO AUTOS (PATENTE, ID_MODELO, AÑO) VALUES
('ABC123', 2, 1999),
('XYZ987', 4, 2010),
('LMN456', 5, 2000),
('QRS789', 3, 2001),
('DEF234', 2, 2001)

INSERT INTO CLIENTES VALUES
('Juan', 'Gómez', 'Calle 123', '5551234', 'usuario1', 1, 1),
('María', 'Rodríguez', 'Avenida 456', '4445678', 'usuario2', 2, 2),
('Carlos', 'Pérez', 'Plaza Principal', '3339876', 'usuario3', 3, 3),
('Laura', 'Fernández', 'Camino Real', '2226543', 'usuario4', 4, 4),
('Luis', 'García', 'Boulevard 789', '6668765', 'usuario5', 5, 5)
